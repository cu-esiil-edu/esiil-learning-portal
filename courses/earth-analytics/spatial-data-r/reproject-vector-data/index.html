


<!doctype html>
<html lang="en" class="no-js">
  <head>
    


<meta charset="utf-8">




<!-- begin SEO -->









<title>GIS in R: How to Reproject Vector Data in Different Coordinate Reference Systems (crs) in R | Earth Data Science - Earth Lab </title>







<meta property="og:locale" content="en-US">
<meta property="og:site_name" content="Earth Data Science - Earth Lab">
<meta property="og:title" content="GIS in R: How to Reproject Vector Data in Different Coordinate Reference Systems (crs) in R">


  <link rel="canonical" href="https://earthdatascience.org/courses/earth-analytics/spatial-data-r/reproject-vector-data/">
  <meta property="og:url" content="https://earthdatascience.org/courses/earth-analytics/spatial-data-r/reproject-vector-data/">



  <meta content="In this lesson you learn how to reproject a vector dataset using the spTransform() function in R." name="description">
  <meta property="og:description" content="In this lesson you learn how to reproject a vector dataset using the spTransform() function in R.">


<!-- twitter cards -->

  <meta name="twitter:site" content="@earthlabcu">
  <meta name="twitter:title" content="GIS in R: How to Reproject Vector Data in Different Coordinate Reference Systems (crs) in R">
  <meta name="twitter:description" content="In this lesson you learn how to reproject a vector dataset using the spTransform() function in R.">
  <meta name="twitter:url" content="https://earthdatascience.org/courses/earth-analytics/spatial-data-r/reproject-vector-data/">

  
    <meta name="twitter:card" content="summary">
    <meta name="twitter:image" content="https://earthdatascience.org/images/earth_sm_twit.png">
    <meta name="twitter:image:alt" content="The Earthlab Logo - image of a globe with courses, lessons and tutorials">

    
  

  



  

  





  <meta property="og:type" content="article">
  <meta property="article:published_time" content="2017-02-15T00:00:00-06:00">
  
    <link rel="next" href="https://earthdatascience.org/courses/earth-analytics/spatial-data-r/r-create-custom-legend-with-base-plot/" title="GIS in R: Plot Spatial Data and Create Custom Legends in R">
  
  
    <link rel="prev" href="https://earthdatascience.org/courses/earth-analytics/spatial-data-r/understand-epsg-wkt-and-other-crs-definition-file-types/" title="GIS in R: Understand EPSG, WKT and other CRS definition styles">
  





  <script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "Person",
      "name" : "Earth Analytics",
      "url" : "https://earthdatascience.org",
      "sameAs" : null
    }
  </script>






<!-- end SEO -->


<link href="https://earthdatascience.org/feed.xml" type="application/atom+xml" rel="alternate" title="Earth Data Science - Earth Lab Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="google-site-verification" content="LfpevjsE0wlELv5KKOZv1T2RhRimGSiRckWv5ZC19GU" />
<!-- don't use the old cataloged meta tags -->
<meta name="googlebot" content="noodp">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>


<!-- For all browsers
<link rel="stylesheet" href="https://earthdatascience.org/assets/css/main.css">-->
<link rel="stylesheet" href="https://earthdatascience.org/assets/css/main.css">

<meta http-equiv="cleartype" content="on">

    <!-- start custom head snippets -->

<!-- insert favicons. use http://realfavicongenerator.net/ -->

<!-- end custom head snippets -->


    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/clipboard@1/dist/clipboard.min.js"></script>

    <script src="https://earthdatascience.org/assets/js/copy-code.js"></script>
  </head>

  <body>


    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->
    

<!-- search bar begin  - turning off for now-->

<div class="search">
<form role="search" method="get" action="https://earthdatascience.org/search/">
    <input id="q" name="q"
           placeholder="Search earth data science site" type="text">
</form>
<!--<span class='cu-boulder'><a href="http://www.colorado.edu/earthlab" target="_blank">Earth Lab University of Colorado - Boulder Home </a></span> -->
</div>


<!-- search bar END -->

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <button><div class="navicon"></div></button>
        <ul class="visible-links">
          <li class="masthead__menu-item masthead__menu-item--lg"><a href="https://earthdatascience.org/"><img src="/images/earth-lab-logo.png" alt="Earth Lab - Earth Data Science" style="height:80%;width:85%"></a></li>
          
            
            <li class="masthead__menu-item"><a href="https://earthdatascience.org/tutorials/">Tutorials</a></li>
          
            
            <li class="masthead__menu-item"><a href="https://earthdatascience.org/courses/">Courses</a></li>
          
            
            <li class="masthead__menu-item"><a href="https://earthdatascience.org/workshops/">Workshops</a></li>
          
            
            <li class="masthead__menu-item"><a href="https://earthdatascience.org/tools/">Tools</a></li>
          
            
            <li class="masthead__menu-item"><a href="https://earthdatascience.org/blog/">Blog</a></li>
          
            
            <li class="masthead__menu-item"><a href="https://earthdatascience.org/about/">About</a></li>
          

        </ul>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    



  <div class="page__hero--overlay" style=" background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('https://earthdatascience.org/images/header-images/earth-data-analytics-professional-certificate-banner.jpg');">
  <div class="wrapper">
        <h1 class="page__title" itemprop="headline">
          Earth Data Analytics Online Certificate
        </h1>
        <p><a href="https://earthlab.colorado.edu/earth-data-analytics-professional-graduate-certificate?utm_source=earthdatascience&utm_medium=website&utm_campaign=certificate-2022&utm_id=certificate-2022" target = "_blank" class="btn btn--light-outline btn--large">Enroll now! Learn more.</a></p>
  </div>
</div>





  
    













<nav class="breadcrumbs" role="menubar" aria-label="breadcrumbs">
 <ol itemscope itemtype="http://schema.org/BreadcrumbList">
 <a href="https://earthdatascience.org"></a>
 
 
 <!-- there is an offset of 1 so subtract 2 from the final crumb number-->
 
   
   
     <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
       <a href="https://earthdatascience.org/" itemprop="item"><span itemprop="name">Home</span></a>
       <meta itemprop="position" content="1" />
     </li>
     <span class="sep">/</span>
   
    
        
        <li><a href="https://earthdatascience.org/courses/">Courses </a>
        <meta itemprop="position" content="2" />
        <span class="sep">/</span></li>
    
  
   
    
        
        <li><a href="https://earthdatascience.org/courses/earth-analytics/">Earth analytics </a>
        <meta itemprop="position" content="3" />
        <span class="sep">/</span></li>
    
  
   
    
        
        <li><a href="https://earthdatascience.org/courses/earth-analytics/spatial-data-r/">Spatial data r </a>
        <meta itemprop="position" content="4" />
        <span class="sep">/</span></li>
    
  
   
    
        <li class="current">GIS in R: How to Reproject Vector Data in Different Coordinate Reference Systems (crs) in R</li>
    
  
</ol>
</nav>

<!-- from min mistakes -->




  


<div id="main" role="main">
  



  <div class="sidebar sticky">
  
  
    
      
      
      
    
    


    

    
     <!--  Might be able to delete this This is the code that populates the side bar navigation if there is a class-->
      







<!-- make sure we're only grabbing pages for the course -->



<!--<h3>Week 4 Lessons</h3>-->
<!-- i don't think the code below is used as modules is defined lower down as well. -->

<!-- This is how modules are sorted on the left hand side bar -->






<h5><a href="https://earthdatascience.org/courses/earth-analytics/" ><i class="fa fa-home" aria-hidden="true"></i> Earth analytics</a></h5>

<!-- Just get the pages from this course -->






<nav class="nav__list">







<ul>
  <li><span class="nav__sub-title"><i class="fa fa-book" aria-hidden="true"></i> Units</span>
   <ul>

       

        

            <!-- Only list the week if it's not the week for the current landing page -->
            
                <li> <b>SECTION 1 <a href="https://earthdatascience.org/courses/earth-analytics/document-your-science/"> <!--<i class="fa fa-folder-o" aria-hidden="true"></i>-->
                 DOCUMENT YOUR SCIENCE USING R MARKDOWN AND R</a></b>
                </li>

                    <!-- list the chapters for each section  updating this to show a chapter number if it's a textbook-->
                    
                     <ul>
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                                <li>
                                    <a href="https://earthdatascience.org/courses/earth-analytics/document-your-science/google-earth-time-series/"> 1.1   Use data for science </a>
                                </li>
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                                <li>
                                    <a href="https://earthdatascience.org/courses/earth-analytics/document-your-science/setup-r-rstudio/"> 1.2   Set up R </a>
                                </li>
                            
                        
                            
                        
                            
                        
                            
                                <li>
                                    <a href="https://earthdatascience.org/courses/earth-analytics/document-your-science/about-open-science-and-why-open-science-is-important/"> 1.3   R Markdown Intro </a>
                                </li>
                            
                        
                    </ul>


            

            <!-- This is for the activate section in the nav which is grey -->

            

    

            <!-- Only list the week if it's not the week for the current landing page -->
            
                <li> <b>SECTION 2 <a href="https://earthdatascience.org/courses/earth-analytics/time-series-data/"> <!--<i class="fa fa-folder-o" aria-hidden="true"></i>-->
                 INTRO TO R & WORK WITH TIME SERIES DATA</a></b>
                </li>

                    <!-- list the chapters for each section  updating this to show a chapter number if it's a textbook-->
                    
                     <ul>
                        
                            
                        
                            
                        
                            
                                <li>
                                    <a href="https://earthdatascience.org/courses/earth-analytics/time-series-data/write-clean-code-with-r/"> 2.   Clean Code & Getting Help with R </a>
                                </li>
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                                <li>
                                    <a href="https://earthdatascience.org/courses/earth-analytics/time-series-data/basic-r-syntax-scientific-programming/"> 2.1   Get to Know R </a>
                                </li>
                            
                        
                            
                        
                            
                        
                            
                        
                            
                                <li>
                                    <a href="https://earthdatascience.org/courses/earth-analytics/time-series-data/date-class-in-r/"> 2.2   Time Series Data in R </a>
                                </li>
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                    </ul>


            

            <!-- This is for the activate section in the nav which is grey -->

            

    

            <!-- Only list the week if it's not the week for the current landing page -->
            
                <li> <b>SECTION 3 <a href="https://earthdatascience.org/courses/earth-analytics/lidar-raster-data-r/"> <!--<i class="fa fa-folder-o" aria-hidden="true"></i>-->
                 LIDAR RASTER DATA IN R</a></b>
                </li>

                    <!-- list the chapters for each section  updating this to show a chapter number if it's a textbook-->
                    
                     <ul>
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                                <li>
                                    <a href="https://earthdatascience.org/courses/earth-analytics/lidar-raster-data-r/ggmap-basemap/"> 3.   Refine R Markdown Reports with Images and Basemaps </a>
                                </li>
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                                <li>
                                    <a href="https://earthdatascience.org/courses/earth-analytics/lidar-raster-data-r/lidar-intro/"> 3.1   Intro to Lidar Data </a>
                                </li>
                            
                        
                            
                        
                            
                        
                            
                                <li>
                                    <a href="https://earthdatascience.org/courses/earth-analytics/lidar-raster-data-r/open-lidar-raster-r/"> 3.2   Lidar Raster Data in R </a>
                                </li>
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                    </ul>


            

            <!-- This is for the activate section in the nav which is grey -->

            

    

            <!-- Only list the week if it's not the week for the current landing page -->
            

            <!-- This is for the activate section in the nav which is grey -->

            
                
                    <li class='active-section'> <a href="https://earthdatascience.org/courses/earth-analytics/spatial-data-r/"><i class="fa fa-folder-open" aria-hidden="true"></i>
                     4. SPATIAL DATA IN R</a></li>

            

<div class='active-menu'>
      <ul>
        
        <!-- Note that class-order allows you to sort modules by class order if there are more than 1 in a class -->
        

        

        

        
        
        <!-- If it's a textbook with a chapter number write "chapter", else assume it is a week -->

          <li><span class="nav__sub-title grey"><i class="fa fa-caret-down" aria-hidden="true"></i>   4. Spatial data in r  </span></li>
        <ul>

      
      <!-- count lessons -->

        
        
        

        
        
        

        
        
        
          
          <li><a href= https://earthdatascience.org/courses/earth-analytics/spatial-data-r/intro-vector-data-r/><!--4.1 --> - Vector Data in R</a></li>
          
          

        
        
        

        
        
        
          
          <li><a href= https://earthdatascience.org/courses/earth-analytics/spatial-data-r/shapefile-structure/><!--4.2 --> - Shapefile Structure</a></li>
          
          

        
        
        
          
          <li><a href= https://earthdatascience.org/courses/earth-analytics/spatial-data-r/intro-to-coordinate-reference-systems/><!--4.3 --> - Coordinate Reference Systems</a></li>
          
          

        
        
        

        
        
        
          
          <li><a href= https://earthdatascience.org/courses/earth-analytics/spatial-data-r/geographic-vs-projected-coordinate-reference-systems-UTM/><!--4.4 --> - Geographic vs Projected CRS</a></li>
          
          

        
        
        
          
          <li><a href= https://earthdatascience.org/courses/earth-analytics/spatial-data-r/understand-epsg-wkt-and-other-crs-definition-file-types/><!--4.5 --> - EPSG, Proj4, WKT crs Formats</a></li>
          
          

        
        
        
          
          <li><a href= https://earthdatascience.org/courses/earth-analytics/spatial-data-r/reproject-vector-data/ class='active'> <!--4.6 -->- Reproject Vector Data</a></li>
          
          

        
       </ul>
        

        
        
        <!-- If it's a textbook with a chapter number write "chapter", else assume it is a week -->

          <li><span class="nav__sub-title grey"><i class="fa fa-caret-down" aria-hidden="true"></i>   4.2 Custom maps in r  </span></li>
        <ul>

      
      <!-- count lessons -->

        
        
        

        
        
        
          
          <li><a href= https://earthdatascience.org/courses/earth-analytics/spatial-data-r/r-create-custom-legend-with-base-plot/><!--4.1 --> - Maps with Base Plot</a></li>
          
          

        
        
        

        
        
        
          
          <li><a href= https://earthdatascience.org/courses/earth-analytics/spatial-data-r/make-maps-with-ggplot-in-R/><!--4.2 --> - Maps with ggplot</a></li>
          
          

        
        
        

        
        
        

        
        
        
          
          <li><a href= https://earthdatascience.org/courses/earth-analytics/spatial-data-r/make-interactive-maps-with-leaflet-r/><!--4.3 --> - Interactive Leaflet Maps</a></li>
          
          

        
        
        

        
        
        

        
        
        

        
       </ul>
        

        
      </ul>

      <!-- BEGIN Learn how to lessons -->
       <ul>
         
         
       </ul>


     </div>


      <!-- END BEGIN Learn how to lessons -->

      <!--  -->
      

    

            <!-- Only list the week if it's not the week for the current landing page -->
            
                <li> <b>SECTION 5 <a href="https://earthdatascience.org/courses/earth-analytics/remote-sensing-uncertainty/"> <!--<i class="fa fa-folder-o" aria-hidden="true"></i>-->
                 LIDAR DATA IN R - REMOTE SENSING UNCERTAINTY</a></b>
                </li>

                    <!-- list the chapters for each section  updating this to show a chapter number if it's a textbook-->
                    
                     <ul>
                        
                            
                        
                            
                                <li>
                                    <a href="https://earthdatascience.org/courses/earth-analytics/remote-sensing-uncertainty/about-uncertainty-lidar/"> 5.   Uncertainty in Scientific Data & Metadata  </a>
                                </li>
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                    </ul>


            

            <!-- This is for the activate section in the nav which is grey -->

            

    

            <!-- Only list the week if it's not the week for the current landing page -->
            
                <li> <b>SECTION 6 <a href="https://earthdatascience.org/courses/earth-analytics/automate-science-workflows/"> <!--<i class="fa fa-folder-o" aria-hidden="true"></i>-->
                 FUNCTIONS & AUTOMATION</a></b>
                </li>

                    <!-- list the chapters for each section  updating this to show a chapter number if it's a textbook-->
                    
                     <ul>
                        
                            
                                <li>
                                    <a href="https://earthdatascience.org/courses/earth-analytics/automate-science-workflows/write-efficient-code-for-science-r/"> 6.   Efficient Programming Using Functions </a>
                                </li>
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                    </ul>


            

            <!-- This is for the activate section in the nav which is grey -->

            

    

            <!-- Only list the week if it's not the week for the current landing page -->
            
                <li> <b>SECTION 7 <a href="https://earthdatascience.org/courses/earth-analytics/multispectral-remote-sensing-data/"> <!--<i class="fa fa-folder-o" aria-hidden="true"></i>-->
                 MULTISPECTRAL IMAGERY R - NAIP, LANDSAT, FIRE & REMOTE SENSING</a></b>
                </li>

                    <!-- list the chapters for each section  updating this to show a chapter number if it's a textbook-->
                    
                     <ul>
                        
                            
                        
                            
                        
                            
                        
                            
                                <li>
                                    <a href="https://earthdatascience.org/courses/earth-analytics/multispectral-remote-sensing-data/introduction-multispectral-imagery-r/"> 7.   Fire / Spectral Remote Sensing Data in R </a>
                                </li>
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                                <li>
                                    <a href="https://earthdatascience.org/courses/earth-analytics/multispectral-remote-sensing-data/source-function-in-R/"> 7.2   Source Functions in R </a>
                                </li>
                            
                        
                            
                        
                            
                        
                    </ul>


            

            <!-- This is for the activate section in the nav which is grey -->

            

    

            <!-- Only list the week if it's not the week for the current landing page -->
            
                <li> <b>SECTION 8 <a href="https://earthdatascience.org/courses/earth-analytics/multispectral-remote-sensing-modis/"> <!--<i class="fa fa-folder-o" aria-hidden="true"></i>-->
                 QUANTIFY FIRE IMPACTS - REMOTE SENSING</a></b>
                </li>

                    <!-- list the chapters for each section  updating this to show a chapter number if it's a textbook-->
                    
                     <ul>
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                                <li>
                                    <a href="https://earthdatascience.org/courses/earth-analytics/multispectral-remote-sensing-modis/intro-spectral-data-r/"> 8.1   Fire / spectral remote sensing data - in R </a>
                                </li>
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                                <li>
                                    <a href="https://earthdatascience.org/courses/earth-analytics/multispectral-remote-sensing-modis/add-variables-to-rmarkdown-report/"> 8.2   Refine Rmarkdown Reports </a>
                                </li>
                            
                        
                            
                        
                    </ul>


            

            <!-- This is for the activate section in the nav which is grey -->

            

    

            <!-- Only list the week if it's not the week for the current landing page -->
            
                <li> <b>SECTION 9 <a href="https://earthdatascience.org/courses/earth-analytics/week-9/"> <!--<i class="fa fa-folder-o" aria-hidden="true"></i>-->
                 STUDY FIRE USING REMOTE SENSING DATA</a></b>
                </li>

                    <!-- list the chapters for each section  updating this to show a chapter number if it's a textbook-->
                    
                     <ul>
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                    </ul>


            

            <!-- This is for the activate section in the nav which is grey -->

            

    

            <!-- Only list the week if it's not the week for the current landing page -->
            
                <li> <b>SECTION 10 <a href="https://earthdatascience.org/courses/earth-analytics/communicate-your-science/"> <!--<i class="fa fa-folder-o" aria-hidden="true"></i>-->
                 MIDTERM REVIEW / PRESENTATION BEST PRACTICES</a></b>
                </li>

                    <!-- list the chapters for each section  updating this to show a chapter number if it's a textbook-->
                    
                     <ul>
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                    </ul>


            

            <!-- This is for the activate section in the nav which is grey -->

            

    

            <!-- Only list the week if it's not the week for the current landing page -->
            
                <li> <b>SECTION 11 <a href="https://earthdatascience.org/courses/earth-analytics/week-11/"> <!--<i class="fa fa-folder-o" aria-hidden="true"></i>-->
                 MIDTERM PRESENTATIONS</a></b>
                </li>

                    <!-- list the chapters for each section  updating this to show a chapter number if it's a textbook-->
                    
                     <ul>
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                    </ul>


            

            <!-- This is for the activate section in the nav which is grey -->

            

    

            <!-- Only list the week if it's not the week for the current landing page -->
            
                <li> <b>SECTION 12 <a href="https://earthdatascience.org/courses/earth-analytics/week-12/"> <!--<i class="fa fa-folder-o" aria-hidden="true"></i>-->
                 FALL BREAK: NO CLASS!</a></b>
                </li>

                    <!-- list the chapters for each section  updating this to show a chapter number if it's a textbook-->
                    
                     <ul>
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                    </ul>


            

            <!-- This is for the activate section in the nav which is grey -->

            

    

            <!-- Only list the week if it's not the week for the current landing page -->
            
                <li> <b>SECTION 13 <a href="https://earthdatascience.org/courses/earth-analytics/get-data-using-apis/"> <!--<i class="fa fa-folder-o" aria-hidden="true"></i>-->
                 PROGRAMMATIC DATA ACCESS</a></b>
                </li>

                    <!-- list the chapters for each section  updating this to show a chapter number if it's a textbook-->
                    
                     <ul>
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                                <li>
                                    <a href="https://earthdatascience.org/courses/earth-analytics/get-data-using-apis/intro-to-social-media-text-mining-r/"> 13.1   twitter APIs </a>
                                </li>
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                                <li>
                                    <a href="https://earthdatascience.org/courses/earth-analytics/get-data-using-apis/intro-to-programmatic-data-access-r/"> 13.2   APIs </a>
                                </li>
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                    </ul>


            

            <!-- This is for the activate section in the nav which is grey -->

            

    

            <!-- Only list the week if it's not the week for the current landing page -->
            
                <li> <b>SECTION 14 <a href="https://earthdatascience.org/courses/earth-analytics/earth-analytics-final-projects/"> <!--<i class="fa fa-folder-o" aria-hidden="true"></i>-->
                 FINAL PROJECTS & COURSE FEEDBACK DISCUSSION</a></b>
                </li>

                    <!-- list the chapters for each section  updating this to show a chapter number if it's a textbook-->
                    
                     <ul>
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                    </ul>


            

            <!-- This is for the activate section in the nav which is grey -->

            

    

            <!-- Only list the week if it's not the week for the current landing page -->
            
                <li> <b>SECTION 15 <a href="https://earthdatascience.org/courses/earth-analytics/earth-analytics-final-week/"> <!--<i class="fa fa-folder-o" aria-hidden="true"></i>-->
                 LAST CLASS: FINAL PROJECT PRESENTATIONS</a></b>
                </li>

                    <!-- list the chapters for each section  updating this to show a chapter number if it's a textbook-->
                    
                     <ul>
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                    </ul>


            

            <!-- This is for the activate section in the nav which is grey -->

            

    
  </ul></li>
 </ul>


 <ul>
   <li><span class="nav__sub-title"><i class="fa fa-folder-open" aria-hidden="true"></i> Overview</span>
    <ul>
     
          
         <li> <a href="https://earthdatascience.org/courses/earth-analytics/">
           Course Home Page </a></li>
         

     
          
         <li> <a href="https://earthdatascience.org/courses/earth-analytics/earth-analytics-syllabus/">
           Course Syllabus </a></li>
         

     
          
         <li> <a href="https://earthdatascience.org/courses/earth-analytics/mid-term/">
           Midterm Project </a></li>
         

     
          
         <li> <a href="https://earthdatascience.org/courses/earth-analytics/final-project/">
           Final Project </a></li>
         

     
          
         <li> <a href="https://earthdatascience.org/courses/earth-analytics/data-sources/">
           Data Source List </a></li>
         

     
          
         <li> <a href="https://earthdatascience.org/courses/earth-analytics/search-course-lessons/">
           Search Course Lessons </a></li>
         

     
   </ul>
 </li>
</ul>
</nav>

<h5><a href="https://earthdatascience.org/courses/earth-analytics/" ><i class="fa fa-home" aria-hidden="true"></i> earth-analytics Home</a></h5>

    

    

  
  </div>






<!-- begin science / science themes side bar nav -->



  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">

    <meta itemprop="headline" content="GIS in R: How to Reproject Vector Data in Different Coordinate Reference Systems (crs) in R">
    <meta itemprop="description" content="In this lesson you learn how to reproject a vector dataset using the spTransform() function in R.">
    <meta itemprop="datePublished" content="February 15, 2017">
    <meta itemprop="dateModified" content="September 03, 2019">

    <div class="page__inner-wrap">
        <header>
          

          <!-- BEGIN: insert a welcome to the module block on pages that are part of a module set -->

          <!-- END: insert welcome block -->

          
              

            
                <h1 class="page__title" itemprop="headline">
                Lesson 6. 
                 GIS in R: How to Reproject Vector Data in Different Coordinate Reference Systems (crs) in R

                
                </h1>
            

          

          
            <div class="page__meta">
              
              
              <a href="https://earthdatascience.org/authors/leah-wasser">Leah Wasser</a>
              
            </div>
          

            <br/>

            

              
            

            <!-- For tools pages add authors and tool title -->

            
        </header>



      <section class="page__content" itemprop="text">

        <!-- would like to include the TOC automatically but this does weird things-->
        
          
            <aside class="sidebar__right">
<nav class="toc">
    <header><h4 class="nav__title"><i class="fa fa-file-text"></i> In This Lesson</h4></header>
<ul class="toc__menu" id="markdown-toc">
  <li><a href="#learning-objectives" id="markdown-toc-learning-objectives"><i class="fa fa-graduation-cap" aria-hidden="true"></i> Learning Objectives</a></li>
  <li><a href="#what-you-need" id="markdown-toc-what-you-need"><i class="fa fa-check-square-o fa-2" aria-hidden="true"></i> What You Need</a></li>
  <li><a href="#working-with-spatial-data-from-different-sources" id="markdown-toc-working-with-spatial-data-from-different-sources">Working with Spatial Data from Different Sources</a></li>
  <li><a href="#import-us-boundaries---census-data" id="markdown-toc-import-us-boundaries---census-data">Import US Boundaries - Census Data</a></li>
  <li><a href="#read-us-boundary-file" id="markdown-toc-read-us-boundary-file">Read US Boundary File</a></li>
  <li><a href="#us-boundary-layer" id="markdown-toc-us-boundary-layer">U.S. Boundary Layer</a></li>
  <li><a href="#understanding-crs-in-proj4-format" id="markdown-toc-understanding-crs-in-proj4-format">Understanding CRS in proj4 Format</a></li>
  <li><a href="#crs-units---view-object-extent" id="markdown-toc-crs-units---view-object-extent">CRS units - View Object Extent</a></li>
  <li><a href="#proj4--crs-resources" id="markdown-toc-proj4--crs-resources">Proj4 &amp; CRS Resources</a></li>
  <li><a href="#reproject-vector-data" id="markdown-toc-reproject-vector-data">Reproject Vector Data</a></li>
  <li><a href="#test-your-skills-crop-peproject-plot-data" id="markdown-toc-test-your-skills-crop-peproject-plot-data"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> Test Your Skills: Crop, Peproject, Plot Data</a></li>
</ul>

  </nav>
</aside>

<div class="notice--success">

  <h2 id="learning-objectives"><i class="fa fa-graduation-cap" aria-hidden="true"></i> Learning Objectives</h2>

  <p>After completing this tutorial, you will be able to:</p>

  <ul>
    <li>Describe atleast 2 reasons that a data provider may chose to store a dataset in a particular <code class="language-plaintext highlighter-rouge">CRS</code>.</li>
    <li>Reproject a vector dataset to another <code class="language-plaintext highlighter-rouge">CRS</code> in <code class="language-plaintext highlighter-rouge">R</code>.</li>
    <li>Identify the <code class="language-plaintext highlighter-rouge">CRS</code> of a spatial dataset in <code class="language-plaintext highlighter-rouge">R</code>.</li>
  </ul>

  <h2 id="what-you-need"><i class="fa fa-check-square-o fa-2" aria-hidden="true"></i> What You Need</h2>

  <p>You will need a computer with internet access to complete this lesson and the data for week 4 of the course.</p>

  <p><a href="https://ndownloader.figshare.com/files/7525363" data-proofer-ignore="" class="btn"><i class="fa fa-download" aria-hidden="true"></i> Download Week 4 Data (~500 MB)</a></p>

</div>

<h2 id="working-with-spatial-data-from-different-sources">Working with Spatial Data from Different Sources</h2>

<p>You often need to gather spatial datasets for from different sources and/or data
that cover different spatial <code class="language-plaintext highlighter-rouge">extents</code>. Spatial data from different sources and
that cover different extents are often in different Coordinate Reference Systems (<code class="language-plaintext highlighter-rouge">CRS</code>).</p>

<p>Some reasons for data being in different <code class="language-plaintext highlighter-rouge">CRS</code>s include:</p>

<ol>
  <li>The data are stored in a particular <code class="language-plaintext highlighter-rouge">CRS</code> convention used by the data
provider which might be a federal agency, or a state planning office.</li>
  <li>The data are stored in a particular <code class="language-plaintext highlighter-rouge">CRS</code> that is customized to a region.
For instance, many states prefer to use a <strong>State Plane</strong> projection customized
for that state.</li>
</ol>

<figure>
    <a href="https://earthdatascience.org/images/courses/earth-analytics/spatial-data/compare-mercator-utm-wgs-projections.jpg">
    <img src="https://earthdatascience.org/images/courses/earth-analytics/spatial-data/compare-mercator-utm-wgs-projections.jpg" alt="Maps of the United States using data in different projections." />
    </a>

    <figcaption>Maps of the United States using data in different projections.
    Notice the differences in shape associated with each different projection.
    These differences are a direct result of the calculations used to "flatten"
    the data onto a 2-dimensional map. Often data are stored purposefully in a
    particular projection that optimizes the relative shape and size of
    surrounding geographic boundaries (states, counties, countries, etc).
    Source: opennews.org</figcaption>
</figure>

<p>In this tutorial you will learn how to identify and manage spatial data
in different projections. You will learn how to <code class="language-plaintext highlighter-rouge">reproject</code> the data so that they
are in the same projection to support plotting / mapping. Note that these skills
are also required for any geoprocessing / spatial analysis. Data need to be in
the same <code class="language-plaintext highlighter-rouge">CRS</code> to ensure accurate results.</p>

<p>You will use the <code class="language-plaintext highlighter-rouge">rgdal</code> and <code class="language-plaintext highlighter-rouge">raster</code> libraries in this tutorial.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># load spatial data packages</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">rgdal</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">raster</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">rgeos</span><span class="p">)</span><span class="w">
</span><span class="n">options</span><span class="p">(</span><span class="n">stringsAsFactors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">)</span><span class="w">
</span><span class="c1"># set working directory to data folder</span><span class="w">
</span><span class="c1"># setwd("pathToDirHere")</span><span class="w">
</span></code></pre></div></div>

<h2 id="import-us-boundaries---census-data">Import US Boundaries - Census Data</h2>

<p>There are many good sources of boundary base layers that you can use to create a
basemap. Some <code class="language-plaintext highlighter-rouge">R</code> packages even have these base layers built in to support quick
and efficient mapping. In this tutorial, you will use boundary layers for the
United States, provided by the
<a href="https://www.census.gov/geo/maps-data/data/cbf/cbf_state.html" target="_blank" data-proofer-ignore=""> United States Census Bureau.</a></p>

<p>It is useful to have shapefiles to work with because you can add additional
attributes to them if need be - for project specific mapping.</p>

<h2 id="read-us-boundary-file">Read US Boundary File</h2>

<p>You will use the <code class="language-plaintext highlighter-rouge">readOGR()</code> function to import the
<code class="language-plaintext highlighter-rouge">/usa-boundary-layers/US-State-Boundaries-Census-2014</code> layer into <code class="language-plaintext highlighter-rouge">R</code>. This layer
contains the boundaries of all continental states in the U.S. Please note that
these data have been modified and reprojected from the original data downloaded
from the Census website to support the learning goals of this tutorial.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Import the shapefile data into R</span><span class="w">
</span><span class="n">state_boundary_us</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">readOGR</span><span class="p">(</span><span class="s2">"data/week-04/usa-boundary-layers"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"US-State-Boundaries-Census-2014"</span><span class="p">)</span><span class="w">
</span><span class="c1">## OGR data source with driver: ESRI Shapefile </span><span class="w">
</span><span class="c1">## Source: "/root/earth-analytics/data/week-04/usa-boundary-layers", layer: "US-State-Boundaries-Census-2014"</span><span class="w">
</span><span class="c1">## with 58 features</span><span class="w">
</span><span class="c1">## It has 10 fields</span><span class="w">
</span><span class="c1">## Integer64 fields read as strings:  ALAND AWATER</span><span class="w">

</span><span class="c1"># view data structure</span><span class="w">
</span><span class="nf">class</span><span class="p">(</span><span class="n">state_boundary_us</span><span class="p">)</span><span class="w">
</span><span class="c1">## [1] "SpatialPolygonsDataFrame"</span><span class="w">
</span><span class="c1">## attr(,"package")</span><span class="w">
</span><span class="c1">## [1] "sp"</span><span class="w">
</span></code></pre></div></div>

<p>Note: The Z-dimension warning is normal. The <code class="language-plaintext highlighter-rouge">readOGR()</code> function doesnt import
z (vertical dimension or height) data by default. This is because not all
shapefiles contain z dimension data.
<a href="https://www.rdocumentation.org/packages/gdalUtils/versions/2.0.1.7/topics/ogrinfo" target="_blank">More on readOGR</a></p>

<p>Next, lets plot the U.S. states data.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># view column names</span><span class="w">
</span><span class="n">plot</span><span class="p">(</span><span class="n">state_boundary_us</span><span class="p">,</span><span class="w">
     </span><span class="n">main</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Map of Continental US State Boundaries\n US Census Bureau Data"</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p><img src="https://earthdatascience.org/images/courses/earth-analytics-r/04-vector-data-gis-r/in-class/2017-02-15-spatial06-reproject-vector-data-R/find-coordinates-1.png" title="Plot of the continental united states." alt="Plot of the continental united states." width="90%" /></p>

<h2 id="us-boundary-layer">U.S. Boundary Layer</h2>

<p>You can add a boundary layer of the United States to your map - to make it look
nicer. You will import
<code class="language-plaintext highlighter-rouge">data/week-04/usa-boundary-layers/US-Boundary-Dissolved-States</code>.
If you specify a thicker line width using <code class="language-plaintext highlighter-rouge">lwd = 4</code> for the border layer, it will
make your map pop!</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Read the .csv file</span><span class="w">
</span><span class="n">country_boundary_us</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">readOGR</span><span class="p">(</span><span class="s2">"data/week-04/usa-boundary-layers"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"US-Boundary-Dissolved-States"</span><span class="p">)</span><span class="w">
</span><span class="c1">## OGR data source with driver: ESRI Shapefile </span><span class="w">
</span><span class="c1">## Source: "/root/earth-analytics/data/week-04/usa-boundary-layers", layer: "US-Boundary-Dissolved-States"</span><span class="w">
</span><span class="c1">## with 1 features</span><span class="w">
</span><span class="c1">## It has 9 fields</span><span class="w">
</span><span class="c1">## Integer64 fields read as strings:  ALAND AWATER</span><span class="w">

</span><span class="c1"># look at the data structure</span><span class="w">
</span><span class="nf">class</span><span class="p">(</span><span class="n">country_boundary_us</span><span class="p">)</span><span class="w">
</span><span class="c1">## [1] "SpatialPolygonsDataFrame"</span><span class="w">
</span><span class="c1">## attr(,"package")</span><span class="w">
</span><span class="c1">## [1] "sp"</span><span class="w">

</span><span class="c1"># view column names</span><span class="w">
</span><span class="n">plot</span><span class="p">(</span><span class="n">state_boundary_us</span><span class="p">,</span><span class="w">
     </span><span class="n">main</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Map of Continental US State Boundaries\n US Census Bureau Data"</span><span class="p">,</span><span class="w">
     </span><span class="n">border</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"gray40"</span><span class="p">)</span><span class="w">

</span><span class="c1"># view column names</span><span class="w">
</span><span class="n">plot</span><span class="p">(</span><span class="n">country_boundary_us</span><span class="p">,</span><span class="w">
     </span><span class="n">lwd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w">
     </span><span class="n">border</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"gray18"</span><span class="p">,</span><span class="w">
     </span><span class="n">add</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p><img src="https://earthdatascience.org/images/courses/earth-analytics-r/04-vector-data-gis-r/in-class/2017-02-15-spatial06-reproject-vector-data-R/check-out-coordinates-1.png" title="Plot of the US overlayed with states and a boundary." alt="Plot of the US overlayed with states and a boundary." width="90%" /></p>

<p>Next, lets add the location of your study area sites.
As you are adding these layers, take note of the class of each object. You will use
<code class="language-plaintext highlighter-rouge">AOI</code> to represent Area of Interest in your data.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Import a polygon shapefile</span><span class="w">
</span><span class="n">sjer_aoi</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">readOGR</span><span class="p">(</span><span class="s2">"data/week-04/california/SJER/vector_data"</span><span class="p">,</span><span class="w">
                      </span><span class="s2">"SJER_crop"</span><span class="p">)</span><span class="w">
</span><span class="c1">## OGR data source with driver: ESRI Shapefile </span><span class="w">
</span><span class="c1">## Source: "/root/earth-analytics/data/week-04/california/SJER/vector_data", layer: "SJER_crop"</span><span class="w">
</span><span class="c1">## with 1 features</span><span class="w">
</span><span class="c1">## It has 1 fields</span><span class="w">
</span><span class="nf">class</span><span class="p">(</span><span class="n">sjer_aoi</span><span class="p">)</span><span class="w">
</span><span class="c1">## [1] "SpatialPolygonsDataFrame"</span><span class="w">
</span><span class="c1">## attr(,"package")</span><span class="w">
</span><span class="c1">## [1] "sp"</span><span class="w">

</span><span class="c1"># plot point - looks ok?</span><span class="w">
</span><span class="n">plot</span><span class="p">(</span><span class="n">sjer_aoi</span><span class="p">,</span><span class="w">
     </span><span class="n">pch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">19</span><span class="p">,</span><span class="w">
     </span><span class="n">col</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"purple"</span><span class="p">,</span><span class="w">
     </span><span class="n">main</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"San Joachin Experimental Range AOI"</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p><img src="https://earthdatascience.org/images/courses/earth-analytics-r/04-vector-data-gis-r/in-class/2017-02-15-spatial06-reproject-vector-data-R/explore-units-1.png" title="plot aoi" alt="plot aoi" width="90%" /></p>

<p>Your SJER <code class="language-plaintext highlighter-rouge">AOI</code> layer plots nicely. Lets next add it as a layer on top of the U.S.
states and boundary layers in your basemap plot.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># plot state boundaries</span><span class="w">
</span><span class="n">plot</span><span class="p">(</span><span class="n">state_boundary_us</span><span class="p">,</span><span class="w">
     </span><span class="n">main</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Map of Continental US State Boundaries \n with SJER AOI"</span><span class="p">,</span><span class="w">
     </span><span class="n">border</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"gray40"</span><span class="p">)</span><span class="w">

</span><span class="c1"># add US border outline</span><span class="w">
</span><span class="n">plot</span><span class="p">(</span><span class="n">country_boundary_us</span><span class="p">,</span><span class="w">
     </span><span class="n">lwd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w">
     </span><span class="n">border</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"gray18"</span><span class="p">,</span><span class="w">
     </span><span class="n">add</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">

</span><span class="c1"># add AOI boundary</span><span class="w">
</span><span class="n">plot</span><span class="p">(</span><span class="n">sjer_aoi</span><span class="p">,</span><span class="w">
     </span><span class="n">pch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">19</span><span class="p">,</span><span class="w">
     </span><span class="n">col</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"purple"</span><span class="p">,</span><span class="w">
     </span><span class="n">add</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p><img src="https://earthdatascience.org/images/courses/earth-analytics-r/04-vector-data-gis-r/in-class/2017-02-15-spatial06-reproject-vector-data-R/layer-point-on-states-1.png" title="plot states" alt="plot states" width="90%" /></p>

<p>What do you notice about the resultant plot? Do you see the AOI boundary in the
California area? Is something wrong?</p>

<p>Lets check out the <code class="language-plaintext highlighter-rouge">CRS</code> (<code class="language-plaintext highlighter-rouge">crs()</code>) of both datasets to see if you can identify any
issues that might cause the point location to not plot properly on top of your
U.S. boundary layers.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># view CRS of your site data</span><span class="w">
</span><span class="n">crs</span><span class="p">(</span><span class="n">sjer_aoi</span><span class="p">)</span><span class="w">
</span><span class="c1">## CRS arguments:</span><span class="w">
</span><span class="c1">##  +proj=utm +zone=11 +datum=WGS84 +units=m +no_defs +ellps=WGS84</span><span class="w">
</span><span class="c1">## +towgs84=0,0,0</span><span class="w">

</span><span class="c1"># view crs of census data</span><span class="w">
</span><span class="n">crs</span><span class="p">(</span><span class="n">state_boundary_us</span><span class="p">)</span><span class="w">
</span><span class="c1">## CRS arguments:</span><span class="w">
</span><span class="c1">##  +proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0</span><span class="w">
</span><span class="n">crs</span><span class="p">(</span><span class="n">country_boundary_us</span><span class="p">)</span><span class="w">
</span><span class="c1">## CRS arguments:</span><span class="w">
</span><span class="c1">##  +proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0</span><span class="w">
</span></code></pre></div></div>

<p>It looks like your data are in different <code class="language-plaintext highlighter-rouge">CRS</code>. You can tell this by looking at
the <code class="language-plaintext highlighter-rouge">CRS</code> strings in <code class="language-plaintext highlighter-rouge">proj4</code> format.</p>

<h2 id="understanding-crs-in-proj4-format">Understanding CRS in proj4 Format</h2>
<p>The <code class="language-plaintext highlighter-rouge">CRS</code> for your data are given to us by <code class="language-plaintext highlighter-rouge">R</code> in <code class="language-plaintext highlighter-rouge">proj4</code> format. Lets break
down the pieces of <code class="language-plaintext highlighter-rouge">proj4</code> string. The string contains all of the individual
<code class="language-plaintext highlighter-rouge">CRS</code> elements that <code class="language-plaintext highlighter-rouge">R</code> or another GIS might need. Each element is specified
with a <code class="language-plaintext highlighter-rouge">+</code> sign, similar to how a <code class="language-plaintext highlighter-rouge">.csv</code> file is delimited or broken up by
a <code class="language-plaintext highlighter-rouge">,</code>. After each <code class="language-plaintext highlighter-rouge">+</code> you see the <code class="language-plaintext highlighter-rouge">CRS</code> element being defined. For example
projection (<code class="language-plaintext highlighter-rouge">proj=</code>) and datum (<code class="language-plaintext highlighter-rouge">datum=</code>).</p>

<h3 id="utm-proj4-string">UTM proj4 String</h3>
<p>Your project string for <code class="language-plaintext highlighter-rouge">sjer_aoi</code> specifies the UTM projection as follows:</p>

<p><code class="language-plaintext highlighter-rouge">+proj=utm +zone=18 +datum=WGS84 +units=m +no_defs +ellps=WGS84 +towgs84=0,0,0</code></p>

<ul>
  <li><strong>proj=utm:</strong> the projection is UTM, UTM has several zones</li>
  <li><strong>zone=18:</strong> the zone is 18</li>
  <li><strong>datum=WGS84:</strong> the datum WGS84 (the datum refers to the  0,0 reference for
the coordinate system used in the projection)</li>
  <li><strong>units=m:</strong> the units for the coordinates are in METERS</li>
  <li><strong>ellps=WGS84:</strong> the ellipsoid (how the Earths  roundness is calculated) for
the data is WGS84</li>
</ul>

<p>Note that the <code class="language-plaintext highlighter-rouge">zone</code> is unique to the UTM projection. Not all <code class="language-plaintext highlighter-rouge">CRS</code> will have a
zone.</p>

<h3 id="geographic-lat--long-proj4-string">Geographic (lat / long) proj4 String</h3>

<p>Your project string for <code class="language-plaintext highlighter-rouge">state_boundary_us</code> and <code class="language-plaintext highlighter-rouge">country_boundary_us</code> specifies
the lat/long projection as follows:</p>

<p><code class="language-plaintext highlighter-rouge">+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0</code></p>

<ul>
  <li><strong>proj=longlat:</strong> the data are in a geographic (latitude and longitude)
coordinate system</li>
  <li><strong>datum=WGS84:</strong> the datum WGS84 (the datum refers to the  0,0 reference for
the coordinate system used in the projection)</li>
  <li><strong>ellps=WGS84:</strong> the ellipsoid (how the earths roundness is calculated)
is WGS84</li>
</ul>

<p>Note that there are no specified units above. This is because this geographic
coordinate reference system is in latitude and longitude which is most
often recorded in <em>Decimal Degrees</em>.</p>

<p class="notice--success"><i class="fa fa-star"></i> <strong>Data tip:</strong> the last portion of each <code class="language-plaintext highlighter-rouge">proj4</code> string
is <code class="language-plaintext highlighter-rouge">+towgs84=0,0,0 </code>. This is a conversion factor that is used if a datum
conversion is required. You will not deal with datums in this tutorial series.</p>

<h2 id="crs-units---view-object-extent">CRS units - View Object Extent</h2>

<p>Next, lets view the extent or spatial coverage for the <code class="language-plaintext highlighter-rouge">sjer_aoi</code> spatial
object compared to the <code class="language-plaintext highlighter-rouge">state_boundary_us</code> object.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># extent &amp; crs for AOI</span><span class="w">
</span><span class="n">extent</span><span class="p">(</span><span class="n">sjer_aoi</span><span class="p">)</span><span class="w">
</span><span class="c1">## class      : Extent </span><span class="w">
</span><span class="c1">## xmin       : 254570.6 </span><span class="w">
</span><span class="c1">## xmax       : 258867.4 </span><span class="w">
</span><span class="c1">## ymin       : 4107303 </span><span class="w">
</span><span class="c1">## ymax       : 4112362</span><span class="w">
</span><span class="n">crs</span><span class="p">(</span><span class="n">sjer_aoi</span><span class="p">)</span><span class="w">
</span><span class="c1">## CRS arguments:</span><span class="w">
</span><span class="c1">##  +proj=utm +zone=11 +datum=WGS84 +units=m +no_defs +ellps=WGS84</span><span class="w">
</span><span class="c1">## +towgs84=0,0,0</span><span class="w">

</span><span class="c1"># extent &amp; crs for object in geographic</span><span class="w">
</span><span class="n">extent</span><span class="p">(</span><span class="n">state_boundary_us</span><span class="p">)</span><span class="w">
</span><span class="c1">## class      : Extent </span><span class="w">
</span><span class="c1">## xmin       : -124.7258 </span><span class="w">
</span><span class="c1">## xmax       : -66.94989 </span><span class="w">
</span><span class="c1">## ymin       : 24.49813 </span><span class="w">
</span><span class="c1">## ymax       : 49.38436</span><span class="w">
</span><span class="n">crs</span><span class="p">(</span><span class="n">state_boundary_us</span><span class="p">)</span><span class="w">
</span><span class="c1">## CRS arguments:</span><span class="w">
</span><span class="c1">##  +proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0</span><span class="w">
</span></code></pre></div></div>

<p>Note the difference in the units for each object. The extent for
<code class="language-plaintext highlighter-rouge">state_boundary_us</code> is in latitude and longitude which yields smaller numbers
representing decimal degree units. Your <code class="language-plaintext highlighter-rouge">AOI</code> boundary point is in UTM,
represented in meters.</p>

<hr />

<h2 id="proj4--crs-resources">Proj4 &amp; CRS Resources</h2>

<ul>
  <li><a href="http://proj.maptools.org/faq.html" target="_blank">More information on the proj4 format</a></li>
  <li><a href="http://spatialreference.org" target="_blank">A fairly comprehensive list of CRS by format</a></li>
  <li>To view a list of datum conversion factors type: <code class="language-plaintext highlighter-rouge">projInfo(type = "datum")</code>
into the <code class="language-plaintext highlighter-rouge">R</code> console.</li>
</ul>

<hr />

<h2 id="reproject-vector-data">Reproject Vector Data</h2>

<p>Now you know your data are in different <code class="language-plaintext highlighter-rouge">CRS</code>. To address this, you have to modify
or <strong>reproject</strong> the data so they are all in the <strong>same</strong> <code class="language-plaintext highlighter-rouge">CRS</code>. You can use
<code class="language-plaintext highlighter-rouge">spTransform()</code> function to reproject your data. When you reproject the data, you
specify the <code class="language-plaintext highlighter-rouge">CRS</code> that you wish to transform your data to. This <code class="language-plaintext highlighter-rouge">CRS</code> contains
the datum, units and other information that <code class="language-plaintext highlighter-rouge">R</code> needs to <strong>reproject</strong> your data.</p>

<p>The <code class="language-plaintext highlighter-rouge">spTransform()</code> function requires two inputs:</p>

<ol>
  <li>the name of the object that you wish to transform</li>
  <li>the <code class="language-plaintext highlighter-rouge">CRS</code> that you wish to transform that object too. In this case you can
use the <code class="language-plaintext highlighter-rouge">crs()</code> of the <code class="language-plaintext highlighter-rouge">state_boundary_us</code> object as follows:
<code class="language-plaintext highlighter-rouge">crs(state_boundary_us)</code></li>
</ol>

<p class="notice--success"><i class="fa fa-star"></i> <strong>Data Tip:</strong> <code class="language-plaintext highlighter-rouge">spTransform()</code> will only work if your
original spatial object has a CRS assigned to it AND if that CRS is the
correct CRS!</p>

<p>Next, lets reproject your point layer into the geographic - latitude and
longitude <code class="language-plaintext highlighter-rouge">WGS84</code> coordinate reference system (<code class="language-plaintext highlighter-rouge">CRS</code>).</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># reproject data</span><span class="w">
</span><span class="n">sjer_aoi_WGS84</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">spTransform</span><span class="p">(</span><span class="n">sjer_aoi</span><span class="p">,</span><span class="w">
                                </span><span class="n">crs</span><span class="p">(</span><span class="n">state_boundary_us</span><span class="p">))</span><span class="w">

</span><span class="c1"># what is the CRS of the new object</span><span class="w">
</span><span class="n">crs</span><span class="p">(</span><span class="n">sjer_aoi_WGS84</span><span class="p">)</span><span class="w">
</span><span class="c1">## CRS arguments:</span><span class="w">
</span><span class="c1">##  +proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0</span><span class="w">
</span><span class="c1"># does the extent look like decimal degrees?</span><span class="w">
</span><span class="n">extent</span><span class="p">(</span><span class="n">sjer_aoi_WGS84</span><span class="p">)</span><span class="w">
</span><span class="c1">## class      : Extent </span><span class="w">
</span><span class="c1">## xmin       : -119.7626 </span><span class="w">
</span><span class="c1">## xmax       : -119.7127 </span><span class="w">
</span><span class="c1">## ymin       : 37.0799 </span><span class="w">
</span><span class="c1">## ymax       : 37.12657</span><span class="w">
</span></code></pre></div></div>

<p>Once your data are reprojected, you can try to plot again.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># plot state boundaries</span><span class="w">
</span><span class="n">plot</span><span class="p">(</span><span class="n">state_boundary_us</span><span class="p">,</span><span class="w">
     </span><span class="n">main</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Map of Continental US State Boundaries\n With SJER AOI"</span><span class="p">,</span><span class="w">
     </span><span class="n">border</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"gray40"</span><span class="p">)</span><span class="w">

</span><span class="c1"># add US border outline</span><span class="w">
</span><span class="n">plot</span><span class="p">(</span><span class="n">country_boundary_us</span><span class="p">,</span><span class="w">
     </span><span class="n">lwd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w">
     </span><span class="n">border</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"gray18"</span><span class="p">,</span><span class="w">
     </span><span class="n">add</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">

</span><span class="c1"># add AOI</span><span class="w">
</span><span class="n">plot</span><span class="p">(</span><span class="n">sjer_aoi_WGS84</span><span class="p">,</span><span class="w">
     </span><span class="n">pch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">19</span><span class="p">,</span><span class="w">
     </span><span class="n">col</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"purple"</span><span class="p">,</span><span class="w">
     </span><span class="n">add</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p><img src="https://earthdatascience.org/images/courses/earth-analytics-r/04-vector-data-gis-r/in-class/2017-02-15-spatial06-reproject-vector-data-R/plot-again-1.png" title="US Map with SJER AOI Location" alt="US Map with SJER AOI Location" width="90%" /></p>

<p>But now, the AOI is a polygon and its too small to see on the map. Lets convert
the polygon to a polygon CENTROID and plot yet again.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># get coordinate center of the polygon</span><span class="w">
</span><span class="n">aoi_centroid</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">coordinates</span><span class="p">(</span><span class="n">sjer_aoi_WGS84</span><span class="p">)</span><span class="w">

</span><span class="c1"># plot state boundaries</span><span class="w">
</span><span class="n">plot</span><span class="p">(</span><span class="n">state_boundary_us</span><span class="p">,</span><span class="w">
     </span><span class="n">main</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Map of Continental US State Boundaries\n With SJER AOI"</span><span class="p">,</span><span class="w">
     </span><span class="n">border</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"gray40"</span><span class="p">)</span><span class="w">

</span><span class="c1"># add US border outline</span><span class="w">
</span><span class="n">plot</span><span class="p">(</span><span class="n">country_boundary_us</span><span class="p">,</span><span class="w">
     </span><span class="n">lwd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w">
     </span><span class="n">border</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"gray18"</span><span class="p">,</span><span class="w">
     </span><span class="n">add</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">

</span><span class="c1"># add point location of the centroid to the plot</span><span class="w">
</span><span class="n">points</span><span class="p">(</span><span class="n">aoi_centroid</span><span class="p">,</span><span class="w"> </span><span class="n">pch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">8</span><span class="p">,</span><span class="w"> </span><span class="n">col</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"magenta"</span><span class="p">,</span><span class="w"> </span><span class="n">cex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1.5</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p><img src="https://earthdatascience.org/images/courses/earth-analytics-r/04-vector-data-gis-r/in-class/2017-02-15-spatial06-reproject-vector-data-R/plot-centroid-1.png" title="figure out AOI polygon centroid." alt="figure out AOI polygon centroid." width="90%" /></p>

<p>Reprojecting your data ensured that things lined up on your map! It will also
allow us to perform any required geoprocessing (spatial calculations /
transformations) on your data.</p>

<div class="notice--warning">

  <h2 id="test-your-skills-crop-peproject-plot-data"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> Test Your Skills: Crop, Peproject, Plot Data</h2>

  <p>Create a map of your SJER study area as follows:</p>

  <ol>
    <li>Import the <code class="language-plaintext highlighter-rouge">madera-county-roads/tl_2013_06039_roads.shp</code> layer located in your week4 data download.</li>
    <li>Create a map that shows the roads layer, study site locations and the <code class="language-plaintext highlighter-rouge">sjer_aoi</code> boundary.</li>
    <li>Add a <strong>title</strong> to your plot.</li>
    <li>Add a <strong>legend</strong> to your plot that shows both the roads and the plot locations.</li>
    <li>Plot the roads by road type and add each type to the legend. HINT: use the metadata included in your data download to figure out what each type of road represents (C, S, etc.). <a href="https://earthdatascience.org/courses/earth-analytics/spatial-data-r/r-create-custom-legend-with-base-plot/">Use the homework lesson on custom legends</a> to help build the legend.</li>
    <li>BONUS: Plot the plots by type - adjust the symbology of the plot locations (choose a symbol using pch for each type and adjust the color of the points).</li>
    <li>Do your best to make the map look nice!</li>
  </ol>

  <p>IMPORTANT: be sure that all of the data are within the same EXTENT and crs of the sjer_aoi
layer. This means that you may have to CROP and reproject your data prior to plotting it!</p>

  <p>Your map should look something like the map below. You should of course use the
actual roads types that you find in the metadata rather than Road type 1, etc</p>

  <p>NOTE: this is also a plot you will submit as a part of your homework this week!</p>

</div>

<p><img src="https://earthdatascience.org/images/courses/earth-analytics-r/04-vector-data-gis-r/in-class/2017-02-15-spatial06-reproject-vector-data-R/challenge-code-MASS-Map-1.png" title="challenge plot" alt="challenge plot" width="90%" /></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## null device 
##           1
</code></pre></div></div>

          

        

        <!-- if the page is a course lesson, add pagination -->

        
         <!-- This is clunky code that forces pagination across lesson sets -->
<!-- NOTE: it won't include slideshows as written which makes sense -->
<!-- add forced pagination -->
<!-- first, get total lesson count -->

<div class="previous--next">





<!-- if it's page one - then no previous button -->
<!-- how do i figure out the link? i have to loop through again? -->


  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  
      
    


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    

    
      

      
      
    
  
  <!-- ELSE if it's a module -->
  


    

    
      
        <a href="https://earthdatascience.org/courses/earth-analytics/spatial-data-r/understand-epsg-wkt-and-other-crs-definition-file-types/" class="btn btn--info btn--large btn-success">
          <i class="fa fa-4 fa-arrow-circle-left fa-4" aria-hidden="true"></i>
          EPSG, Proj4, WKT crs Formats </a>
      

      
      
    
  
  <!-- ELSE if it's a module -->
  


    

    
      

      
      
    
  
  <!-- ELSE if it's a module -->
  


    

    
      

      
      
    
  
  <!-- ELSE if it's a module -->
  


    

    
      

      
      
    
  
  <!-- ELSE if it's a module -->
  


    

    
      

      
      
    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  
      
    

</div>

        
      </section>

      <footer class="page__meta">
        
        



  






  

  <i class="fa fa-fw fa-tags" aria-hidden="true"></i> Tags
  
  <span class="a-main-tag">
  <i class="fa fa-fw fa-tag" aria-hidden="true"></i><a href=https://earthdatascience.org/tags/spatial-data-and-gis/>Spatial data and gis</a>:
  </span>
  
    
    <a href=https://earthdatascience.org/tags/spatial-data-and-gis/vector-data/>vector data</a> 
    
    , 
  
    
    <a href=https://earthdatascience.org/tags/spatial-data-and-gis/coordinate-reference-systems/>coordinate reference systems</a> 
    
    
  

  <span class="a-main-tag">
  <i class="fa fa-fw fa-tag" aria-hidden="true"></i><a href=https://earthdatascience.org/tags/reproducible-science-and-programming/>Reproducible science and programming</a>:
  </span>
  










        
          <p class="page__date"><strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i> Updated:</strong> <time datetime="2019-09-03">September 03, 2019</time></p>
        
        <!-- Add license information w/ DOI to the bottom -->
        
  
  

  
     The Earth analytics course is subject to the
     <a href="https://earthdatascience.org/license" target="_blank">CC BY-SA 4.0 License </a>.
      Citation DOI: <a href="https://zenodo.org/badge/latestdoi/143348761" target="_blank"> https://zenodo.org/badge/latestdoi/143348761</a>
  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  


      </footer>

      


<section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?text=https://earthdatascience.org/courses/earth-analytics/spatial-data-r/reproject-vector-data/" class="btn btn--twitter" title="Share on Twitter"><i class="fa fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https://earthdatascience.org/courses/earth-analytics/spatial-data-r/reproject-vector-data/" class="btn btn--facebook" title="Share on Facebook"><i class="fa fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://plus.google.com/share?url=https://earthdatascience.org/courses/earth-analytics/spatial-data-r/reproject-vector-data/" class="btn btn--google-plus" title="Share on Google Plus"><i class="fa fa-fw fa-google-plus" aria-hidden="true"></i><span> Google+</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://earthdatascience.org/courses/earth-analytics/spatial-data-r/reproject-vector-data/" class="btn btn--linkedin" title="Share on LinkedIn"><i class="fa fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
<br><br>
  <a href="https://earthlab.colorado.edu/earth-data-analytics-professional-graduate-certificate?utm_source=earthdatascience&utm_medium=website&utm_campaign=certificate-2022&utm_id=certificate-2022" target="_blank">
    <img src="https://earthdatascience.org/images/earth-data-analytics-professional-certificate-banner.png" alt="Get a professional Certificate in Earth Data Analytics at University of Colorado, Boulder" width="40%"></a>
</section>


       
    </div>

    
      


<div class="page__comments">
  <h4 class="page__comments-title">Leave a Comment</h4>
  
    <section id="disqus_thread"></section>
  
</div>
    
  </article>

  
  
    <div class="page__related">
      
        <h4 class="page__related-title">You May Also Enjoy</h4>
      
      <div class="grid__wrapper">
        
          




<div class="grid__item">
  
    <a href="https://earthdatascience.org/courses/earth-analytics-bootcamp/plot-data-python">
  
    <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
      
      <h2 class="archive__item-title" itemprop="headline">Plot Data With Matplotlib
</h2>


     
      
        <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 


  
	  1 minute read
	
</p>
      
      <p class="archive__item-excerpt" itemprop="description">

     This Week

  


</p>
    </article>
  </a>
</div>

        
          




<div class="grid__item">
  
    <a href="https://earthdatascience.org/courses/use-data-open-source-python/hierarchical-data-formats-hdf/summarize-climate-data-by-season/">
  
    <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
      
      <h2 class="archive__item-title" itemprop="headline">Calculate Seasonal Summary Values from Climate Data Variables Stored in NetCDF 4 Format: Work With MACA v2 Climate Data in Python
</h2>


     
      
        <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 


  
	  26 minute read
	
</p>
      
      <p class="archive__item-excerpt" itemprop="description">Learn how to calculate seasonal summary values for MACA 2 climate data using xarray and region mask in open source Python.
</p>
    </article>
  </a>
</div>

        
          




<div class="grid__item">
  
    <a href="https://earthdatascience.org/courses/use-data-open-source-python/hierarchical-data-formats-hdf/subset-netcdf4-climate-data-spatially-aoi/">
  
    <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
      
      <h2 class="archive__item-title" itemprop="headline">Calculate Summary Values Using Spatial Areas of Interest (AOIs) including Shapefiles for Climate Data Variables Stored in NetCDF 4 Format: Work With MACA v2 Climate Data in Python
</h2>


     
      
        <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 


  
	  32 minute read
	
</p>
      
      <p class="archive__item-excerpt" itemprop="description">Climate datasets stored in netcdf 4 format often cover the entire globe or an entire country. Learn how to subset climate data spatially and by time slices u...</p>
    </article>
  </a>
</div>

        
          




<div class="grid__item">
  
    <a href="https://earthdatascience.org/courses/use-data-open-source-python/hierarchical-data-formats-hdf/use-netcdf-in-python-xarray/">
  
    <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
      
      <h2 class="archive__item-title" itemprop="headline">How to Open and Process NetCDF 4 Data Format in Open Source Python
</h2>


     
      
        <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 


  
	  26 minute read
	
</p>
      
      <p class="archive__item-excerpt" itemprop="description">Historic and projected climate data are most often stored in netcdf 4 format. Learn how to open and process MACA version 2 climate data for the Continental U...</p>
    </article>
  </a>
</div>

        
      </div>
    </div>
  
</div>



    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->


<!-- Adding analytics code -->

        



<div class="page__footer-follow">
  <ul class="social-icons">
    <li>
      <strong>&copy; 2025 Earth Lab -
      <a href="https://earthdatascience.org/license"> All materials on this site
        are subject to the CC BY-SA 4.0 License. </a>
      </strong>
    </li>
  </ul>
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    
    
      <li><a href="https://twitter.com/earthlabcu"><i class="fa fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
    
    
    
      <li><a href="http://github.com/earthlab"><i class="fa fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
    
    
    <li><a href="https://earthdatascience.org/feed.xml"><i class="fa fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<!--
<div class="page__footer-copyright">Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>
-->

      </footer>
    </div>

    <script src="https://earthdatascience.org/assets/js/main.min.js"></script>






  
  <script type="text/javascript">
  	/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  	var disqus_shortname = 'earthlabcu';

  	/* * * DON'T EDIT BELOW THIS LINE * * */
  	(function() {
  		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  	})();

  	/* * * DON'T EDIT BELOW THIS LINE * * */
  	(function () {
  		var s = document.createElement('script'); s.async = true;
  		s.type = 'text/javascript';
  		s.src = '//' + disqus_shortname + '.disqus.com/count.js';
  		(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  	}());
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>





<script type="text/javascript"
    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
});
</script>

    
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-84081999-1', 'auto');
    ga('send', 'pageview');
</script>



  </body>
</html>

